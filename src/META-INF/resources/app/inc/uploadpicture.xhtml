<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:c="http://java.sun.com/jsp/jstl/core">

<ui:component>
    <ui:remove><!--
    #{basebean} / #{method} / #{update} //#{update eq ':' ? '' : update}
    --></ui:remove>
    
<h:form id="formuf" enctype="multipart/form-data" target="ifufp" >

<p:outputPanel id="cpufshowupload"  >  
    <c:set target="#{bKBCUploadFile}" property="filetype" value="#{filetype}" ></c:set>
    
    <ui:param name="filetypedisp" value="#{ not empty filetype ? 'ชนิด ' : '' }#{filetype}" />
    
    <p:dialog modal="true"  width="500" height="410"
          widgetVar="cpufp" header="อัพโหลดภาพ">
        
            <p:panelGrid style="width:100%;" styleClass="showBordersx" >
                
                <p:row>
                    <p:column colspan="2" >
                        <p:outputLabel value="#{msgs.msgsizeimage2} #{filetypedisp}" 
                                       style="font-weight:bold;color: #0079ce;"/>
                       
                    </p:column>
                </p:row>    
                <p:row>
                <p:column style="width:75%;" >
                        <p:fileUpload 
                            mode="simple" 
                            auto="true"  
                            sizeLimit="200"    
                            styleClass="f1-fileupload"
                            id="cpuf111zxc" 
                            
                            update="cpufshowupload"
                            
                            style="width: 300px;"
                            value="#{bKBCUploadFile.upfile}"
                            allowTypes="/(\.|\/)(gif|jpe?g|png)$/"
                            > 
                        </p:fileUpload>
                </p:column>
                    <p:column style="width:25%;">
                        <p:commandButton value="อัพโหลด" ajax="false"  id="cpufppcbp147ix"
                                         actionListener="#{bKBCUploadFile.uploadPicture}"
                                         styleClass="butt-c1"
                                         title="ควรอัพโหลดไฟล์ชื่อภาษาอังกฤษ"
                            /> 
                   </p:column>
                </p:row>
                
                <ui:remove><!--
                <p:row>
                <p:column colspan="2" >

                    <p:graphicImage value="/#{bKBCUploadFile.upfilename}"  style="border: 0" cache="false"
                                    height="300px"  >
                    </p:graphicImage>

                </p:column>
                </p:row>
                --></ui:remove>
                
                <p:row>
                    <p:column colspan="3" >
                        <iframe id="ifufp" name="ifufp" frameborder="0"
                            style="width:450px; height:310px; border: 0px;display: inline;" tabindex="-1" />
                </p:column>
                </p:row>

        </p:panelGrid>

         <p:tooltip for="cpuf111zxc" style="max-width:400px;"   >

            <h:outputLabel  escape="false"
              value="กรุณาอัพโหลดไฟล์ชื่อภาษาอังกฤษเท่านั้น " ></h:outputLabel>

        </p:tooltip>  
         <ui:remove><!--
          #{update} / #{method} //#{empty method ? false : true} //#{update eq ':' ? '' : update}                  
                        --></ui:remove>
          
          <br/>
          
          <div align="center" >
            <p:commandButton  id="cpufppcbps395ty"
                value="ตกลง"  rendered="#{empty method ? false : true}"
                               update="#{update}"
                               actionListener="#{basebean[method]}"
                               oncomplete="cpufp.hide()" 
                               styleClass="butt-c1"
                               ></p:commandButton>
              &nbsp;
              <p:commandButton value="ยกเลิก"  
                               type="button"
                               onclick="cpufp.hide();"
                               styleClass="butt-c1"
                               ></p:commandButton>
            </div>
    </p:dialog>
</p:outputPanel>    
    
</h:form> 
    
</ui:component>
    
</html>

